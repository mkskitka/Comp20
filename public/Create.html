<!doctype html>

<html>

  <head>
    <title>Create</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src='create.js'></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="stylesheets/create.css"/>
    <link rel="stylesheet" type="text/css" href="stylesheets/home.css"/>
   <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </head>
  <body>


<nav class="navbar navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
     <a class="navbar-brand">
        <img id="brand-img" alt="Brand" src="LOGO.png">
      </a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="Create.html">Create</a></li>
        <li><a href="Profile.html">Profile</a></li>
        <li><a href="FindFood.html">Find Food</a></li>
         <li><p> </p>
          <fb:login-button scope="public_profile,email" onlogin="checkLoginState();">
          </fb:login-button>
          <div id="status">
          </div></li>
        <li><a class="tabs" onclick = "fbLogout()">Log Out</a></li>
      </ul>
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
      </form>
      </ul>
    </div>
  </div>
</nav>

<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '1789889064572349',
      xfbml      : true,
      version    : 'v2.5'
    });
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));


 // This is called with the results from from FB.getLoginStatus().
   function statusChangeCallback(response) {
     console.log('statusChangeCallback');
     console.log(response);
     // The response object is returned with a status field that lets the
     // app know the current login status of the person.
     // Full docs on the response object can be found in the documentation
     // for FB.getLoginStatus().
     if (response.status === 'connected') {
       testAPI();
       // Logged into your app and Facebook.
     } else if (response.status === 'not_authorized') {
       // The person is logged into Facebook, but not your app.
       document.getElementById('status').innerHTML = 'Please log ' +
         'into this app.';
     } else {
       // The person is not logged into Facebook, so we're not sure if
       // they are logged into this app or not.
       document.getElementById('status').innerHTML = 'Please log ' +
         'into Facebook.';
     }
   }

   // This function is called when someone finishes with the Login
   // Button.  See the onlogin handler attached to it in the sample
   // code below.
   function checkLoginState() {
     FB.getLoginStatus(function(response) {
       statusChangeCallback(response);
     });
   }

   window.fbAsyncInit = function() {
   FB.init({
     appId      : '1789889064572349',
     cookie     : true,  // enable cookies to allow the server to access
                         // the session
     xfbml      : true,  // parse social plugins on this page
     version    : 'v2.5' // use graph api version 2.5
   });

   // Now that we've initialized the JavaScript SDK, we call
   // FB.getLoginStatus().  This function gets the state of the
   // person visiting this page and can return one of three states to
   // the callback you provide.  They can be:
   //
   // 1. Logged into your app ('connected')
   // 2. Logged into Facebook, but not your app ('not_authorized')
   // 3. Not logged into Facebook and can't tell if they are logged into
   //    your app or not.
   //
   // These three cases are handled in the callback function.

   FB.getLoginStatus(function(response) {
     statusChangeCallback(response);
   });

   };

   // Load the SDK asynchronously
   (function(d, s, id) {
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) return;
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));

   // Here we run a very simple test of the Graph API after login is
   // successful.  See statusChangeCallback() for when this call is made.
   function testAPI() {
     console.log('Welcome!  Fetching your information.... ');
     FB.api('/me', function(response) {
       console.log('Successful login for: ' + response.name);
       document.getElementById('status').innerHTML =
         'Thanks for logging in, ' + response.name + '!';
     });
   }

    function fbLogout() {
        FB.getLoginStatus(function(response) {
            if (response && response.status === 'connected') {
                FB.logout(function(response) {
                    document.location.reload();
                });
            }
        });
    }

   </script>




    <h1>Create</h1>
    <div class="container">
      <div class="createForm">

     		<form action="/sendRecipe" method="POST" role="form">

          <div class="col-md-5">
      		  <input type="file" name="photo" id="photo" style="display:none" onchange="loadFile(event);"/><br>
            <label for="photo">
              <img src="imageSpot.png" id="output" alt="Your Image"/>
            </label><br>
            <input type="hidden" name="bitImage" id="64bitImage" value=''/>
          </div>

          <div class="col-md-7">
            <label for="recipe">Title:</label>
            <input type="text" class="form-control" id="recipe" name="recipe">
          </div>

          <div class="col-md-3">
            <label for="cookTime">Cook Time (minutes):</label><input type="text" class="form-control" id="cookTime" name="cookTime">
          </div>

          <div class="col-md-4">
            <label for="difficulty">Difficulty:</label><select class="form-control" id="difficulty" name="difficulty">
              <option>1</option>
              <option>2</option>
              <option>3</option>
              <option>4</option>
              <option>5</option>
            </select>
          </div><br>

          <div class="col-md-2">
            <label for="title">Tags:</label>
            <input type="text" class="form-control" id="tag1" name="tag1">
          </div>

          <div class="col-md-2">
            <label>Tags:</label>
            <input type="text" class="form-control" id="tag2" name="tag2">
          </div>

          <div class="col-md-2">
            <label>Tags:</label>
            <input type="text" name="tag3" class="form-control" id="tag3">
          </div>

          <div class="col-md-7">
              <label for="ingredients">Ingredients:</label> <textarea class="form-control" rows="6" name="ingredients" id="ingredients" placeholder="eg.
              2 Tomatoes
              1 Onion")></textarea>
          </div>

          <div class="col-md-12">
            <label for="instructions">Instructions:</label> <textarea class="form-control" rows="5" id="instructions" name="instructions" placeholder="eg.
            Chop up the tomatoes
            Dice the onions
            Fry on pan with oil for 20 minutes"></textarea>
          </div>

      		<div class="col-md-12">
            <br>
            <input type="submit" class="btn btn-default" name="submit" value="Submit">
          </div>
      	</form>

      </div>
    </div>
  </body>

</html>
