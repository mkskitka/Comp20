<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href= "style.css"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<script src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script>
/*<link rel="stylesheet" href="geolocation map style.css"/>*/

	var map;
	var myLat = 0;
	var myLng = 0;
	var request = new XMLHttpRequest();
	var me = new google.maps.LatLng(myLat, myLng);
	var marker;
	var infowindow = new google.maps.InfoWindow();
	function init() {
		latlng = new google.maps.LatLng(myLat, myLng);

			var myOptions = {
			center: me,
			zoom: 12,
			mapTypeId: google.maps.MapTypeId.ROADMAP
			};

		map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
		getMyLocation();

	}

	function getMyLocation() {
		if (navigator.geolocation) { // the navigator.geolocation object is supported on your browser
			console.log("1");
			navigator.geolocation.getCurrentPosition(function(position) {
				console.log(2);
				myLat = position.coords.latitude;
				myLng = position.coords.longitude;
				renderMap();
			});
		}
		else {
			alert("Geolocation is not supported by your web browser.  What a shame!");
		}
	}	

	function renderMap()
			{
				me = new google.maps.LatLng(myLat, myLng);
				
				// Update map and go there...
				map.panTo(me);
	
				// Create a marker
				marker = new google.maps.Marker({
					position: me,
					title: "Here I Am!"
				});
				marker.setMap(map);
					
				// Open info window on click of marker
				google.maps.event.addListener(marker, 'click', function() {
					infowindow.setContent(marker.title);
					infowindow.open(map, marker);
				});
			}


</script>
<head/>
<body onload="init()">
	<div id="map_canvas" style="width:100%; height:100%"</div>
</body>
</html>
